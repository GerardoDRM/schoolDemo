<div ng-controller="StudentController">

  <div class="header-filter header-school">
    <div class="row">
      <div class="col-sm-3">
    <md-button md-no-ink class="add-color" ng-click="addStudent($event)">+ Agregar alumno</md-button>
        </div>
        <div class="col-sm-3">
          <h3>Niveles</h3>
        </div>
    <md-radio-group ng-model="data.group">
        <div class="col-sm-3 margin-level">
      <md-radio-button value="c3" class="">Bachillerato</md-radio-button>
      <md-radio-button value="c4" class=""> Licenciatura </md-radio-button>
    </div>
    </md-radio-group>
    <md-button ng-click="search()">
      Buscar
    </md-button>
  </div>
</div>
  <div id="StudentCards">
  </div>
  <!-- Angular Material has problems with chips and dialogs using templates
   instead we use a static dialog using just one controller in order to use chips
   with a dialog -->
  <div style="visibility: hidden">
    <div class="md-dialog-container" id="StudentDialog">
      <md-dialog aria-label="Crear un nuevo alumno">
        <md-toolbar>
          <div class="md-toolbar-tools">
            <h2>Agrega un alumno</h2>
          </div>
        </md-toolbar>
        <!-- Toolbar -->
        <md-dialog-content layout="column">
          <div class="md-dialog-content">
            <div layout="column">
              <div class="row">
                <form id="adminStudents">
                  <div class="col-sm-6">
                    <md-input-container class="md-block" flex>
                      <label>Nombre del alumno</label>
                      <input ng-model="stu.name" required>
                    </md-input-container>
                    <md-input-container class="md-block" flex>
                      <label>Password</label>
                      <input ng-model="stu.password" required>
                    </md-input-container>
                    <md-button ng-click="generatePassword()">
                      Generar Password
                    </md-button>
                    <md-chips ng-model="selectedCourses" md-transform-chip="transformChip($chip)" md-require-match="autocompleteDemoRequireMatch">
                      <md-autocomplete md-selected-item="selectedItem" md-search-text="searchText" md-items="item in querySearch(searchText)" md-item-text="item.name" placeholder="Materias">
                        <span md-highlight-text="searchText">{{item.name|angular}} :: {{item._id|angular}}-{{item.section|angular}} </span>
                      </md-autocomplete>
                      <md-chip-template>
                        <span>
                          <strong>{{"$chip.name"|angular}}</strong>
                          <em>({{"$chip._id"|angular}} / {{"$chip.section"|angular}}) </em>
                        </span>
                      </md-chip-template>
                    </md-chips>
                  </div>
                  <div class="col-sm-6">
                    <md-input-container class="md-block" flex>
                      <label>Email</label>
                      <input ng-model="stu.email">
                    </md-input-container>
                </form>

                <div>
                  <h3>Nivel</h3>
                  <md-select ng-model="stu.level" aria-label="select">
                    <md-option value="c1">
                      Primaria
                    </md-option>
                    <md-option value="c2">
                      Secundaria
                    </md-option>
                    <md-option value="c3">
                      Bachillerato
                    </md-option>
                    <md-option value="c4">
                      Licenciatura
                    </md-option>
                  </md-select>
                </div>
                </div>
              </div>
            </div>
            <!-- End Dialog Content -->
          </div>
        </md-dialog-content>
        <md-dialog-actions layout="row">
          <span flex></span>
          <md-button ng-click="closeDialog()">
            Cancelar
          </md-button>
          <md-button ng-click="createStudent()" style="margin-right:20px;">
            Crear
          </md-button>
        </md-dialog-actions>
      </md-dialog>

    </div>
  </div>
  <!-- End Dialog -->
</div>
